PDbRecordEdit=function(c){var d,f=function(){var a=c(this),b=a.data("initState");(a.is("[type=checkbox]")||a.is("[type=radio]")?a.is(":checked"):a.val())!==b?h(1):h(-1)},h=function(a){var b=c("body"),k=c(".pdb-admin-edit-participant form input[name=pdb_modified]"),e=b.data("unsavedChanges")||0;1===a?e++:-1===a&&e--;b.data("unsavedChanges",e);0>=e?(l(),k.val(0)):(window.onbeforeunload=m,k.val(1))},l=function(){window.onbeforeunload=null},m=function(a){a=a||window.event;var b=PDb_L10n.unsaved_changes;
a&&(a.returnValue=b);return b},g=function(){var a=c(this);a.data("initState",a.val())};return{init:function(){d=c(".pdb-admin-edit-participant");d.find("input, textarea").on("input",f).each(g);d.find("select, input[type=checkbox]").on("change",f).each(g);d.find(".rich-text").on("pdb-tinymce-change",".mce-container",f).each(g);d.find("input[type=submit]").on("click",l)}}}(jQuery);jQuery(function(){PDbRecordEdit.init()});
